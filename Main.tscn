[gd_scene load_steps=25 format=2]

[ext_resource path="res://Main.gd" type="Script" id=1]
[ext_resource path="res://player.tscn" type="PackedScene" id=2]
[ext_resource path="res://room.obj" type="ArrayMesh" id=3]
[ext_resource path="res://Ground.tscn" type="PackedScene" id=4]
[ext_resource path="res://img/skybox0.png" type="Texture" id=5]
[ext_resource path="res://lamp.obj" type="ArrayMesh" id=6]

[sub_resource type="SpatialMaterial" id=18]
refraction_enabled = true
refraction_scale = 0.38
refraction_texture_channel = 0

[sub_resource type="SpatialMaterial" id=16]
albedo_color = Color( 0.92549, 0.815686, 0.376471, 1 )
metallic = 1.0
roughness = 0.4
subsurf_scatter_enabled = true
subsurf_scatter_strength = 0.63

[sub_resource type="ConvexPolygonShape" id=17]
points = PoolVector3Array( 1.989, 50.4, 0, 1.85, 50.4, -0.7323, 0, 50, 0, 3.883, 51.66, 0, 3.61, 51.66, -1.429, 5.278, 53.67, 0, 4.907, 53.67, -1.943, 1.407, 50.4, -1.407, 0, 50, 0, 2.745, 51.66, -2.745, 3.732, 53.67, -3.732, 0.7323, 50.4, -1.85, 0, 50, 0, 1.429, 51.66, -3.61, 1.943, 53.67, -4.907, 1.218e-16, 50.4, -1.989, 0, 50, 0, 2.377e-16, 51.66, -3.883, 3.232e-16, 53.67, -5.278, -0.7323, 50.4, -1.85, 0, 50, 0, -1.429, 51.66, -3.61, -1.943, 53.67, -4.907, -1.407, 50.4, -1.407, 0, 50, 0, -2.745, 51.66, -2.745, -3.732, 53.67, -3.732, -1.85, 50.4, -0.7323, 0, 50, 0, -3.61, 51.66, -1.429, -4.907, 53.67, -1.943, -1.989, 50.4, -2.598e-16, 0, 50, 0, -3.883, 51.66, -5.061e-16, -5.278, 53.67, -6.864e-16, -1.85, 50.4, 0.7323, 0, 50, 0, -3.61, 51.66, 1.429, -4.907, 53.67, 1.943, -1.407, 50.4, 1.407, 0, 50, 0, -2.745, 51.66, 2.745, -3.732, 53.67, 3.732, -0.7323, 50.4, 1.85, 0, 50, 0, -1.429, 51.66, 3.61, -1.943, 53.67, 4.907, -3.654e-16, 50.4, 1.989, 0, 50, 0, -7.132e-16, 51.66, 3.883, -9.695e-16, 53.67, 5.278, 0.7323, 50.4, 1.85, 0, 50, 0, 1.429, 51.66, 3.61, 1.943, 53.67, 4.907, 1.407, 50.4, 1.407, 0, 50, 0, 2.745, 51.66, 2.745, 3.732, 53.67, 3.732, 1.85, 50.4, 0.7323, 0, 50, 0, 3.61, 51.66, 1.429, 4.907, 53.67, 1.943, 1.989, 50.4, 0, 0, 50, 0, 3.883, 51.66, 0, 5.278, 53.67, 0, 5.522, 56, -2.186, 5.839, 56, -1.081, 4.97, 56, -3.25, 5.938, 56, 4.441e-16, 3.25, 56, -4.97, 4.199, 56, -4.199, 1.081, 56, -5.839, -3.25, 56, -4.97, -2.186, 56, -5.522, -4.97, 56, -3.25, -4.199, 56, -4.199, -1.081, 56, -5.839, -5.839, 56, -1.081, -5.522, 56, -2.186, 2.186, 56, -5.522, 3.636e-16, 56, -5.938, -5.938, 56, -7.027e-16, -5.839, 56, 1.081, -4.97, 56, 3.25, -5.522, 56, 2.186, -4.199, 56, 4.199, -3.25, 56, 4.97, -1.081, 56, 5.839, 4.199, 56, 4.199, 3.25, 56, 4.97, 5.522, 56, 2.186, 4.97, 56, 3.25, 2.186, 56, 5.522, 1.081, 56, 5.839, 5.938, 56, 4.441e-16, 5.839, 56, 1.081, -2.186, 56, 5.522, -1.091e-15, 56, 5.938, 4.199, 56, 4.199, -1.081, 56, 5.839, -2.186, 56, 5.522, -1.091e-15, 56, 5.938, 3.25, 56, 4.97, -3.25, 56, 4.97, -4.97, 56, 3.25, -5.522, 56, 2.186, 4.97, 56, 3.25, -4.199, 56, 4.199, -5.839, 56, 1.081, 2.186, 56, 5.522, 1.081, 56, 5.839, 4.97, 56, -3.25, 5.522, 56, 2.186, 5.839, 56, 1.081, 5.522, 56, -2.186, 5.839, 56, -1.081, 5.938, 56, 4.441e-16, -5.938, 56, -7.027e-16, -5.839, 56, -1.081, -5.522, 56, -2.186, -4.97, 56, -3.25, 4.199, 56, -4.199, -4.199, 56, -4.199, -3.25, 56, -4.97, -2.186, 56, -5.522, -1.081, 56, -5.839, 1.081, 56, -5.839, 2.186, 56, -5.522, 3.636e-16, 56, -5.938, 3.25, 56, -4.97, 0, 50, 1, 1, 50, 0, 0, 0, 1, 1, 0, 0, -1, 50, 0, -1, 0, 0, 0, 50, -1, 0, 0, -1, 1, 50, 0, 1, 0, 0, 0, 50, -1, 1, 50, 0, -1, 50, 0, 0, 50, 1, -1, 0, 0, 1, 0, 0, 0, 0, -1, 0, 0, 1, -1.48, -2.5e-16, 3.719, -0.7359, -2.378e-16, 3.933, 2.82, -1.956e-16, 2.828, 2.181, -2.217e-16, 3.348, -0.008075, -2.226e-16, 4, -2.197, -2.58e-16, 3.348, -3.356, -2.58e-16, 2.189, 3.34, -1.572e-16, 2.189, -3.727, -2.5e-16, 1.472, -2.836, -2.608e-16, 2.828, -3.941, -2.378e-16, 0.7278, 0.7198, -2.341e-16, 3.933, 1.464, -2.344e-16, 3.719, 3.711, -1.094e-16, 1.472, -4.008, -2.226e-16, -4.843e-16, 3.925, -5.574e-17, 0.7278, 3.992, 0, 5.534e-18, -3.941, -8.676e-09, -0.7278, 3.925, -8.677e-09, -0.7278, -3.727, -3.649e-08, -1.472, -3.356, -8.472e-08, -2.189, 3.711, -3.649e-08, -1.472, 2.82, -1.522e-07, -2.828, -2.197, -2.353e-07, -3.348, -2.836, -1.522e-07, -2.828, 2.181, -2.353e-07, -3.348, -1.48, -3.284e-07, -3.719, 3.34, -8.472e-08, -2.189, -0.7359, -4.251e-07, -3.933, 1.464, -3.284e-07, -3.719, 0.7198, -4.251e-07, -3.933, -0.008075, -5.197e-07, -4, 3.704, 0.5502, 5.534e-18, 3.443, 0.5502, -1.366, 3.921, 0.2722, 5.534e-18, 3.645, 0.2722, -1.446, 2.811, 1.056, 5.534e-18, 2.613, 1.056, -1.038, -0.008075, 1.491, 5.534e-18, 2.617, 0.5502, -2.625, 2.77, 0.2722, -2.778, 1.985, 1.056, -1.993, -0.008075, 1.491, 5.534e-18, 1.358, 0.5502, -3.451, 1.438, 0.2722, -3.653, 1.03, 1.056, -2.621, -0.008075, 1.491, 5.534e-18, -0.008075, 0.5502, -3.712, -0.008075, 0.2722, -3.929, -0.008075, 1.056, -2.819, -0.008075, 1.491, 5.534e-18, -1.374, 0.5502, -3.451, -1.454, 0.2722, -3.653, -1.046, 1.056, -2.621, -0.008075, 1.491, 5.534e-18, -2.633, 0.5502, -2.625, -2.786, 0.2722, -2.778, -2.001, 1.056, -1.993, -0.008075, 1.491, 5.534e-18, -3.459, 0.5502, -1.366, -3.661, 0.2722, -1.446, -2.629, 1.056, -1.038, -0.008075, 1.491, 5.534e-18, -3.72, 0.5502, -4.49e-16, -3.937, 0.2722, -4.757e-16, -2.827, 1.056, -3.397e-16, -0.008075, 1.491, 5.534e-18, -3.459, 0.5502, 1.366, -3.661, 0.2722, 1.446, -2.629, 1.056, 1.038, -0.008075, 1.491, 5.534e-18, -2.633, 0.5502, 2.625, -2.786, 0.2722, 2.778, -2.001, 1.056, 1.993, -0.008075, 1.491, 5.534e-18, -1.374, 0.5502, 3.451, -1.454, 0.2722, 3.653, -1.046, 1.056, 2.621, -0.008075, 1.491, 5.534e-18, -0.008075, 0.5502, 3.712, -0.008075, 0.2722, 3.929, -0.008075, 1.056, 2.819, -0.008075, 1.491, 5.534e-18, 1.358, 0.5502, 3.451, 1.438, 0.2722, 3.653, 1.03, 1.056, 2.621, -0.008075, 1.491, 5.534e-18, 2.617, 0.5502, 2.625, 2.77, 0.2722, 2.778, 1.985, 1.056, 1.993, -0.008075, 1.491, 5.534e-18, 3.443, 0.5502, 1.366, 3.645, 0.2722, 1.446, 2.613, 1.056, 1.038, -0.008075, 1.491, 5.534e-18, 3.704, 0.5502, 5.534e-18, 3.921, 0.2722, 5.534e-18, 2.811, 1.056, 5.534e-18, -0.008075, 1.491, 5.534e-18, -0.008075, -5.197e-07, -4, 0.7198, -4.251e-07, -3.933, 1.464, -3.284e-07, -3.719, 2.181, -2.353e-07, -3.348, 2.82, -1.522e-07, -2.828, -0.7359, -4.251e-07, -3.933, -2.197, -2.353e-07, -3.348, -1.48, -3.284e-07, -3.719, -2.836, -1.522e-07, -2.828, -3.727, -3.649e-08, -1.472, -3.356, -8.472e-08, -2.189, -3.941, -8.676e-09, -0.7278, 3.711, -3.649e-08, -1.472, 3.925, -8.677e-09, -0.7278, 3.34, -8.472e-08, -2.189, 3.992, 0, 5.534e-18, -4.008, -2.226e-16, -4.843e-16, -3.941, -2.378e-16, 0.7278, -3.727, -2.5e-16, 1.472, -2.197, -2.58e-16, 3.348, -2.836, -2.608e-16, 2.828, -3.356, -2.58e-16, 2.189, -0.7359, -2.378e-16, 3.933, -1.48, -2.5e-16, 3.719, -0.008075, -2.226e-16, 4, 1.464, -2.344e-16, 3.719, 0.7198, -2.341e-16, 3.933, 2.181, -2.217e-16, 3.348, 3.34, -1.572e-16, 2.189, 3.711, -1.094e-16, 1.472, 3.925, -5.574e-17, 0.7278, 3.992, 0, 5.534e-18, 2.82, -1.956e-16, 2.828 )

[sub_resource type="ConvexPolygonShape" id=1]
points = PoolVector3Array( 19.1585, 37.532, 14, 20, 38.5719, -10.4762, 20, 40.4762, -10.4762, 20, 40.4762, 15.2381, 20.2557, 37.6455, 15, 47.3633, 37.6455, 15, 47.619, 38.5719, -10.4762, 47.619, 40.4762, -10.4762, 47.619, 40.4762, 15.2381, 48.4605, 37.532, 14 )

[sub_resource type="ConvexPolygonShape" id=2]
points = PoolVector3Array( 20, 20.4779, 13.3333, 20, 20.4779, 15.2381, 20, 37.619, 13.3333, 20, 37.619, 15.2381, 47.619, 20.4779, 15.2381, 47.619, 37.619, 15.2381, 49, 19.6208, 13.2381, 49, 38.4761, 13.2381 )

[sub_resource type="ConvexPolygonShape" id=3]
points = PoolVector3Array( -8.4605, 37.532, 14, -7.61905, 38.5719, -10.4762, -7.61905, 40.4762, -10.4762, -7.61905, 40.4762, 15.2381, -7.36331, 37.6455, 15, 19.7443, 37.6455, 15, 20, 38.5719, -10.4762, 20, 40.4762, -10.4762, 20, 40.4762, 15.2381, 20.8415, 37.532, 14 )

[sub_resource type="ConvexPolygonShape" id=4]
points = PoolVector3Array( -7.61905, 20.4779, 13.3333, -7.61905, 20.4779, 15.2381, -7.61905, 37.619, 13.3333, -7.61905, 37.619, 15.2381, 20, 20.4779, 13.3333, 20, 20.4779, 15.2381, 20, 37.619, 13.3333, 20, 37.619, 15.2381 )

[sub_resource type="ConvexPolygonShape" id=5]
points = PoolVector3Array( 47.5475, 1, 8.40457, 47.619, 20.4762, 13.3328, 47.684, 1.77636e-15, 8.72291, 47.7206, 0.268154, 15, 47.7206, 19.7318, 15, 48.5719, 20.4762, 8.57143, 50.4762, -0.476191, 8.57143, 50.4762, -0.476191, 15.2368, 50.4762, 20.4762, 8.57143, 50.4762, 20.4762, 15.2368 )

[sub_resource type="ConvexPolygonShape" id=6]
points = PoolVector3Array( 20, -0.476191, 9.52474, 20, 1.42913, 9.52474, 20, 20.4762, 13.3328, 20.9812, 0.268154, 15, 20.9812, 19.7318, 15, 29.5272, 1.42913, 8.57143, 46.6379, 0.268154, 15, 46.6379, 19.7318, 15, 46.9913, 0, 8.72291, 48.3105, 1, 8.40457, 49, 21.5238, 13.4756 )

[sub_resource type="ConvexPolygonShape" id=7]
points = PoolVector3Array( 47.5475, 1, 9.04827, 47.619, 1.42913, -10.4762, 47.684, -1.77636e-15, 8.13853, 47.6905, 0.0476191, -10, 48.5719, 20.4762, -10.4762, 48.5719, 20.4762, 8.57143, 50.4762, -0.476191, -10.4762, 50.4762, -0.476191, 8.57143, 50.4762, 20.4762, -10.4762, 50.4762, 20.4762, 8.57143 )

[sub_resource type="ConvexPolygonShape" id=8]
points = PoolVector3Array( 20, -0.476191, -10.4762, 20, -0.476191, 0.951262, 20, 1.42857, -10.4762, 20, 1.42857, 0.951262, 29.5272, -0.476191, 8.57143, 29.5272, 1.42857, 8.57143, 47.619, -0.476191, -10.4762, 47.619, -0.476191, 8.57143, 47.619, 1.42857, -10.4762, 49, 1.52381, 9.52381 )

[sub_resource type="ConvexPolygonShape" id=9]
points = PoolVector3Array( -7.61905, -0.476191, -10.4762, -7.61905, -0.476191, 12.381, -7.61905, 1.42857, -10.4762, -7.61905, 1.42857, 12.381, 20, -0.476191, -10.4762, 20, -0.476191, 12.381, 20, 1.42857, -10.4762, 20, 1.42857, 12.381 )

[sub_resource type="ConvexPolygonShape" id=10]
points = PoolVector3Array( -10.4759, -0.476191, -10.4762, -10.4759, -0.476191, 12.381, -10.4759, 20.4762, -10.4762, -10.4759, 20.4762, 12.381, -8.5718, 20.4762, -10.4762, -8.5718, 20.4762, 12.381, -7.68425, -1.77636e-15, 11.8615, -7.68425, 0, -9.95671, -7.61933, 1.42913, -10.4762, -7.54782, 1, 12.9532 )

[sub_resource type="ConvexPolygonShape" id=11]
points = PoolVector3Array( 47.532, 19.8689, 14, 47.619, 38.5696, -10.4762, 47.6455, 20.6633, 15, 47.6871, 40, -9.86389, 47.6871, 40, 14.6258, 48.5719, 20.4781, -10.4762, 50.4762, 20.4781, -10.4762, 50.4762, 20.4781, 15.2381, 50.4762, 40.4762, -10.4762, 50.4762, 40.4762, 15.2381 )

[sub_resource type="ConvexPolygonShape" id=12]
points = PoolVector3Array( -10.4759, 20.4781, -10.4762, -10.4759, 20.4781, 15.2381, -10.4759, 40.4762, -10.4762, -10.4759, 40.4762, 15.2381, -8.5718, 20.4781, -10.4762, -7.68735, 40, -9.86389, -7.68735, 40, 14.6258, -7.64578, 20.6633, 15, -7.61933, 38.5696, -10.4762, -7.5323, 19.8689, 14 )

[sub_resource type="ConvexPolygonShape" id=13]
points = PoolVector3Array( -10.4762, -0.476191, 15.2375, -10.4762, 20.4762, 15.2375, -10, 20.1488, 12.4256, -9.78355, 0, 12.4459, -9, 20.8141, 12.3349, 19.3074, -1.77636e-15, 12.4459, 20, -0.476191, 15.2375, 20, 20.4762, 13.3337, 20, 20.4762, 15.2375, 20.7629, 1, 12.3094 )

[sub_resource type="PanoramaSky" id=14]
panorama = ExtResource( 5 )

[sub_resource type="Environment" id=15]
background_mode = 2
background_sky = SubResource( 14 )
ambient_light_color = Color( 1, 1, 1, 1 )
ambient_light_energy = 0.18
ambient_light_sky_contribution = 0.26
fog_enabled = true
fog_sun_amount = 0.4
tonemap_mode = 2

[node name="Main" type="Spatial"]
script = ExtResource( 1 )

[node name="Player" parent="." instance=ExtResource( 2 )]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 1, 1, 1 )

[node name="Ground" parent="." instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0 )

[node name="StaticBody" type="StaticBody" parent="."]

[node name="room" type="MeshInstance" parent="StaticBody"]
transform = Transform( 0.2, 0, 0, 0, -8.74228e-09, 0.2, 0, -0.2, -8.74228e-09, -2.64088, 1.83745, 4.99416 )
use_in_baked_light = true
mesh = ExtResource( 3 )
material/0 = SubResource( 18 )

[node name="OmniLight" type="OmniLight" parent="StaticBody/room"]
transform = Transform( 5, 0, 0, 0, 5, 4.26326e-14, 0, -4.26326e-14, 5, 0, 4.41431, 7.13776 )
light_energy = 0.48
shadow_enabled = true
omni_range = 10.7

[node name="OmniLight2" type="OmniLight" parent="StaticBody/room"]
transform = Transform( 5, 0, 0, 0, 5, 4.26326e-14, 0, -4.26326e-14, 5, 36.0992, 29.7345, 7.13776 )
light_color = Color( 0.968627, 0.960784, 0.462745, 1 )
shadow_enabled = true
omni_range = 9.4
omni_attenuation = 1.7411

[node name="lamp" type="StaticBody" parent="StaticBody/room"]

[node name="lampmesh" type="MeshInstance" parent="StaticBody/room/lamp"]
transform = Transform( 0.3, 0, 0, 0, -1.22392e-08, -0.3, 0, 0.28, -1.31134e-08, -0.0231094, 4.39114, -9.00982 )
cast_shadow = 0
mesh = ExtResource( 6 )
material/0 = SubResource( 16 )

[node name="CollisionShape" type="CollisionShape" parent="StaticBody/room/lamp"]
transform = Transform( 0.3, 0, 0, 0, -1.22392e-08, -0.3, 0, 0.28, -1.31134e-08, -0.0231094, 4.39114, -9.00982 )
shape = SubResource( 17 )

[node name="lamp2" type="StaticBody" parent="StaticBody/room"]
transform = Transform( 1, 0, 0, 0, 1, 2.84217e-14, 0, -2.84217e-14, 1, 36.2663, 25.2638, 0 )

[node name="lampmesh" type="MeshInstance" parent="StaticBody/room/lamp2"]
transform = Transform( 0.3, 0, 0, 0, -1.22392e-08, -0.3, 0, 0.28, -1.31134e-08, -0.0231094, 4.39114, -9.00982 )
cast_shadow = 0
mesh = ExtResource( 6 )
material/0 = SubResource( 16 )

[node name="CollisionShape" type="CollisionShape" parent="StaticBody/room/lamp2"]
transform = Transform( 0.3, 0, 0, 0, -1.22392e-08, -0.3, 0, 0.28, -1.31134e-08, -0.0231094, 4.39114, -9.00982 )
shape = SubResource( 17 )

[node name="CollisionShape13" type="CollisionShape" parent="StaticBody"]
transform = Transform( 0.2, 0, 0, 0, -8.74228e-09, 0.2, 0, -0.2, -8.74228e-09, -2.64088, 1.83745, 4.99416 )
shape = SubResource( 1 )

[node name="CollisionShape12" type="CollisionShape" parent="StaticBody"]
transform = Transform( 0.2, 0, 0, 0, -8.74228e-09, 0.2, 0, -0.2, -8.74228e-09, -2.64088, 1.83745, 4.99416 )
shape = SubResource( 2 )

[node name="CollisionShape11" type="CollisionShape" parent="StaticBody"]
transform = Transform( 0.2, 0, 0, 0, -8.74228e-09, 0.2, 0, -0.2, -8.74228e-09, -2.64088, 1.83745, 4.99416 )
shape = SubResource( 3 )

[node name="CollisionShape10" type="CollisionShape" parent="StaticBody"]
transform = Transform( 0.2, 0, 0, 0, -8.74228e-09, 0.2, 0, -0.2, -8.74228e-09, -2.64088, 1.83745, 4.99416 )
shape = SubResource( 4 )

[node name="CollisionShape9" type="CollisionShape" parent="StaticBody"]
transform = Transform( 0.2, 0, 0, 0, -8.74228e-09, 0.2, 0, -0.2, -8.74228e-09, -2.64088, 1.83745, 4.99416 )
shape = SubResource( 5 )

[node name="CollisionShape8" type="CollisionShape" parent="StaticBody"]
transform = Transform( 0.2, 0, 0, 0, -8.74228e-09, 0.2, 0, -0.2, -8.74228e-09, -2.64088, 1.83745, 4.99416 )
shape = SubResource( 6 )

[node name="CollisionShape7" type="CollisionShape" parent="StaticBody"]
transform = Transform( 0.2, 0, 0, 0, -8.74228e-09, 0.2, 0, -0.2, -8.74228e-09, -2.64088, 1.83745, 4.99416 )
shape = SubResource( 7 )

[node name="CollisionShape6" type="CollisionShape" parent="StaticBody"]
transform = Transform( 0.2, 0, 0, 0, -8.74228e-09, 0.2, 0, -0.2, -8.74228e-09, -2.64088, 1.83745, 4.99416 )
shape = SubResource( 8 )

[node name="CollisionShape5" type="CollisionShape" parent="StaticBody"]
transform = Transform( 0.2, 0, 0, 0, -8.74228e-09, 0.2, 0, -0.2, -8.74228e-09, -2.64088, 1.83745, 4.99416 )
shape = SubResource( 9 )

[node name="CollisionShape4" type="CollisionShape" parent="StaticBody"]
transform = Transform( 0.2, 0, 0, 0, -8.74228e-09, 0.2, 0, -0.2, -8.74228e-09, -2.64088, 1.83745, 4.99416 )
shape = SubResource( 10 )

[node name="CollisionShape3" type="CollisionShape" parent="StaticBody"]
transform = Transform( 0.2, 0, 0, 0, -8.74228e-09, 0.2, 0, -0.2, -8.74228e-09, -2.64088, 1.83745, 4.99416 )
shape = SubResource( 11 )

[node name="CollisionShape2" type="CollisionShape" parent="StaticBody"]
transform = Transform( 0.2, 0, 0, 0, -8.74228e-09, 0.2, 0, -0.2, -8.74228e-09, -2.64088, 1.83745, 4.99416 )
shape = SubResource( 12 )

[node name="CollisionShape" type="CollisionShape" parent="StaticBody"]
transform = Transform( 0.2, 0, 0, 0, -8.74228e-09, 0.2, 0, -0.2, -8.74228e-09, -2.64088, 1.83745, 4.99416 )
shape = SubResource( 13 )

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 15 )
